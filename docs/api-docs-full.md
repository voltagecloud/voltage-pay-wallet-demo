{"openapi":"3.1.0","info":{"title":"Voltage Payments API","description":"API documentation for Voltage Payments","license":{"name":""},"version":"1.0.0"},"servers":[{"url":"/v1/"}],"paths":{"organizations/{organization_id}/assets":{"get":{"tags":["Assets"],"summary":"All supported assets on a given network for an organization","operationId":"get_all_organization_supported_assets","parameters":[{"name":"network","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/Network"}]}},{"name":"organization_id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully retrieved all organization supported assets for a network","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupportedAssets"}}}},"403":{"description":"No access to retrieve organization supported assets, organization READ access required"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/wallets":{"get":{"tags":["Wallets"],"summary":"Get all wallets in an organization","operationId":"get_all_organizations_wallets_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the wallet in","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully retrieved organization's wallets","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Wallet"}}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to retrieve the organization's wallets, organization READ access required"},"404":{"description":"No wallet found for given organization_id in provided organization"},"500":{"description":"Server failed to complete the request"}}},"post":{"tags":["Wallets"],"summary":"Create a new wallet","operationId":"create_wallet","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the wallet in","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewWalletRequest"}}},"required":true},"responses":{"202":{"description":"Successfully requested a new wallet be created"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to create a wallet, organization WRITE access required"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/wallets/{wallet_id}":{"get":{"tags":["Wallets"],"summary":"Get a wallet","operationId":"get_wallet","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the wallet in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"wallet_id","in":"path","description":"Wallet ID to retrieve","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully retrieved a wallet","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Wallet"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to retrieve the wallet, organization READ access required"},"404":{"description":"No wallet found for given id in provided organization"},"500":{"description":"Server failed to complete the request"}}},"delete":{"tags":["Wallets"],"summary":"Delete a wallet","operationId":"delete_wallet","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to delete the wallet in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"wallet_id","in":"path","description":"Wallet ID to delete","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully deleted wallet"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to delete a wallet, organization WRITE access required"},"404":{"description":"No wallet found for given id in provided organization"},"500":{"description":"Server failed to complete the request"}}},"patch":{"tags":["Wallets"],"summary":"Update a wallet","operationId":"update_wallet","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to get the wallet in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"wallet_id","in":"path","description":"ID of wallet to update","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWalletRequest"}}},"required":true},"responses":{"202":{"description":"Successfully submitted commands to update wallet"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to update wallet, organization WRITE access required"},"404":{"description":"No wallet found with provided id"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/wallets/{wallet_id}/ledger":{"get":{"tags":["Wallets"],"summary":"Get a wallet's transaction history","operationId":"get_wallet_ledger_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the wallet in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"wallet_id","in":"path","description":"Wallet ID to retrieve the ledger for","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"offset","in":"query","required":false,"schema":{"type":["integer","null"],"format":"u-int32","minimum":0}},{"name":"limit","in":"query","required":false,"schema":{"type":["integer","null"],"format":"u-int32","minimum":0}},{"name":"payment_id","in":"query","required":false,"schema":{"type":["string","null"],"format":"uuid"}},{"name":"start_date","in":"query","required":false,"schema":{"type":["string","null"],"format":"date-time"}},{"name":"end_date","in":"query","required":false,"schema":{"type":["string","null"],"format":"date-time"}},{"name":"sort_key","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/LedgerSortKey"}]}},{"name":"sort_order","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortOrder"}]}}],"responses":{"200":{"description":"Successfully retrieved a wallet's ledger","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ledger"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to retrieve the wallet ledger, organization READ access required"},"404":{"description":"No wallet found for given id in provided organization"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/payments":{"get":{"tags":["Payments"],"summary":"Get all payments for an organization","operationId":"get_payments","parameters":[{"name":"organization_id","in":"path","description":"Organization ID the payment is in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID the payment is in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"offset","in":"query","required":false,"schema":{"type":["integer","null"],"format":"u-int32","minimum":0}},{"name":"limit","in":"query","required":false,"schema":{"type":["integer","null"],"format":"u-int32","minimum":0}},{"name":"wallet_id","in":"query","required":false,"schema":{"type":["string","null"],"format":"uuid"}},{"name":"statuses","in":"query","required":false,"schema":{"type":["array","null"],"items":{"$ref":"#/components/schemas/PaymentStatus"}}},{"name":"sort_key","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortKey"}]}},{"name":"sort_order","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortOrder"}]}},{"name":"kind","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/PaymentKind"}]}},{"name":"direction","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/PaymentDirection"}]}},{"name":"end_date","in":"query","required":false,"schema":{"type":["string","null"],"format":"date-time"}},{"name":"start_date","in":"query","required":false,"schema":{"type":["string","null"],"format":"date-time"}}],"responses":{"200":{"description":"Successfully found the payment","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Payments"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to get a payment, organization READ access required"},"404":{"description":"No payment with that ID found in this organization and environment"},"500":{"description":"Server failed to complete the request"}}},"post":{"tags":["Payments"],"summary":"Create a new payment","operationId":"create_payment","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the payment in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to create the payment in","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentRequest"},"examples":{"receive_payment_bip21":{"summary":"Receive BIP21 Payment Example","description":"Example of creating a BIP21 URI that includes both on-chain and Lightning payment options","value":{"amount_msats":150000,"currency":"btc","description":"Payment for services","id":"11ca843c-bdaa-44b6-965a-39ac550fcef7","payment_kind":"bip21","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"receive_payment_bolt11":{"summary":"Receive Lightning Bolt11 Payment Example","description":"Example of creating a lightning bolt11 payment request to receive funds","value":{"amount_msats":150000,"currency":"btc","description":"test payment","expiration":3600,"id":"11ca843c-bdaa-44b6-965a-39ac550fcef7","payment_kind":"bolt11","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"receive_payment_onchain":{"summary":"Receive On Chain Payment Example","description":"Example of creating an onchain address to receive funds","value":{"amount_msats":150000,"currency":"btc","description":"test payment","id":"11ca843c-bdaa-44b6-965a-39ac550fcef7","payment_kind":"onchain","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"receive_payment_taprootasset":{"summary":"Receive Taproot Asset Payment Example","description":"Example of creating a taproot asset payment request to receive funds","value":{"amount":{"amount":150000,"currency":"asset:034d8de991e76a6994753ddb4505d354873f96a1aa400a82eac1ee4fd443cfd62e"},"currency":"asset:034d8de991e76a6994753ddb4505d354873f96a1aa400a82eac1ee4fd443cfd62e","description":"Taproot asset payment","id":"11ca843c-bdaa-44b6-965a-39ac550fcef7","payment_kind":"taprootasset","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"send_payment_bip21":{"summary":"Send BIP21 Payment Example","description":"Example of sending a payment using a BIP21 URI that includes both on-chain and Lightning payment options","value":{"currency":"btc","data":{"address":"bitcoin:bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh?amount=0.0015&label=Example%20Store&message=Payment%20for%20services&lightning=lntbs1500n1pn5w25ypp59sfhx5llskdp6rmsmmq3zs86xey6l4y9wkzvkjl5v2cw0ex7xd4sdqqcqzzsxqyz5vqsp5u333jtc7lh0qvkusq5ntcpm3n2jjx6tw8jz7zvpqpnt3v8e572eq9qxpqysgq4hm7n79tnk76j4ll4f7ey9mmxdyj5pwzcmyqgxtgz40vjg9w58wq73040qvuurj83jakt2zws6y9qgzg2f6gtnj3ajf0mj4gw4mdt2cqhr2tpz","amount_msats":150000,"description":"Payment for services","max_fee_msats":1000},"id":"68d00852-8dd8-4c71-94d2-91c84695da78","type":"bip21","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"send_payment_bolt11":{"summary":"Send Lightning Bolt11 Payment Example","description":"Example of sending a lightning bolt11 payment with a payment request","value":{"currency":"btc","data":{"amount_msats":150000,"max_fee_msats":1000,"payment_request":"lntbs1500n1pn5w25ypp59sfhx5llskdp6rmsmmq3zs86xey6l4y9wkzvkjl5v2cw0ex7xd4sdqqcqzzsxqyz5vqsp5u333jtc7lh0qvkusq5ntcpm3n2jjx6tw8jz7zvpqpnt3v8e572eq9qxpqysgq4hm7n79tnk76j4ll4f7ey9mmxdyj5pwzcmyqgxtgz40vjg9w58wq73040qvuurj83jakt2zws6y9qgzg2f6gtnj3ajf0mj4gw4mdt2cqhr2tpz"},"id":"68d00852-8dd8-4c71-94d2-91c84695da78","type":"bolt11","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"send_payment_onchain":{"summary":"Send On Chain Payment Example","description":"Example of sending an onchain payment","value":{"currency":"btc","data":{"address":"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh","amount_sats":150,"max_fee_sats":10},"id":"68d00852-8dd8-4c71-94d2-91c84695da78","type":"onchain","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"send_payment_taprootasset":{"summary":"Send Taproot Asset Payment Example","description":"Example of sending a taproot asset payment","value":{"currency":"asset:034d8de991e76a6994753ddb4505d354873f96a1aa400a82eac1ee4fd443cfd62e","data":{"amount":{"amount":150000,"currency":"asset:034d8de991e76a6994753ddb4505d354873f96a1aa400a82eac1ee4fd443cfd62e"},"asset":"034d8de991e76a6994753ddb4505d354873f96a1aa400a82eac1ee4fd443cfd62e","max_fee":{"amount":1000,"currency":"btc"},"payment_request":"lntapr1500n1pn5w25ypp59sfhx5llskdp6rmsmmq3zs86xey6l4y9wkzvkjl5v2cw0ex7xd4sdqqcqzzsxqyz5vqsp5u333jtc7lh0qvkusq5ntcpm3n2jjx6tw8jz7zvpqpnt3v8e572eq9"},"id":"68d00852-8dd8-4c71-94d2-91c84695da78","type":"taprootasset","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}}}}},"required":true},"responses":{"202":{"description":"Successfully requested a new payment be created"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to create a payment, organization WRITE access required"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/payments/check":{"post":{"tags":["Payments"],"summary":"Check a new payment will be approved for sending","operationId":"check_payment","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the payment in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to create the payment in","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendPaymentRequest"},"examples":{"check_payment_bip21":{"summary":"Checking BIP21 Payment Example","description":"Example of checking a payment using a BIP21 URI that includes both on-chain and Lightning payment options will be approved for sending","value":{"currency":"btc","data":{"address":"bitcoin:bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh?amount=0.0015&label=Example%20Store&message=Payment%20for%20services&lightning=lntbs1500n1pn5w25ypp59sfhx5llskdp6rmsmmq3zs86xey6l4y9wkzvkjl5v2cw0ex7xd4sdqqcqzzsxqyz5vqsp5u333jtc7lh0qvkusq5ntcpm3n2jjx6tw8jz7zvpqpnt3v8e572eq9qxpqysgq4hm7n79tnk76j4ll4f7ey9mmxdyj5pwzcmyqgxtgz40vjg9w58wq73040qvuurj83jakt2zws6y9qgzg2f6gtnj3ajf0mj4gw4mdt2cqhr2tpz","amount_msats":150000,"description":"Payment for services","max_fee_msats":1000},"id":"68d00852-8dd8-4c71-94d2-91c84695da78","type":"bip21","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"check_payment_bolt11":{"summary":"Check Lightning Bolt11 Payment Example","description":"Example of checking a lightning bolt11 payment with a payment request will be approved for sending","value":{"currency":"btc","data":{"amount_msats":150000,"max_fee_msats":1000,"payment_request":"lntbs1500n1pn5w25ypp59sfhx5llskdp6rmsmmq3zs86xey6l4y9wkzvkjl5v2cw0ex7xd4sdqqcqzzsxqyz5vqsp5u333jtc7lh0qvkusq5ntcpm3n2jjx6tw8jz7zvpqpnt3v8e572eq9qxpqysgq4hm7n79tnk76j4ll4f7ey9mmxdyj5pwzcmyqgxtgz40vjg9w58wq73040qvuurj83jakt2zws6y9qgzg2f6gtnj3ajf0mj4gw4mdt2cqhr2tpz"},"id":"68d00852-8dd8-4c71-94d2-91c84695da78","type":"bolt11","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"check_payment_onchain":{"summary":"Send On Chain Payment Example","description":"Example of checking an onchain payment will be approved for sending","value":{"currency":"btc","data":{"address":"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh","amount_sats":150,"max_fee_sats":10},"id":"68d00852-8dd8-4c71-94d2-91c84695da78","type":"onchain","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"check_payment_taprootasset":{"summary":"Check Taproot Asset Payment Example","description":"Example of checking a taproot asset payment will be approved for sending","value":{"currency":"asset:034d8de991e76a6994753ddb4505d354873f96a1aa400a82eac1ee4fd443cfd62e","data":{"amount":{"amount":150000,"currency":"asset:034d8de991e76a6994753ddb4505d354873f96a1aa400a82eac1ee4fd443cfd62e"},"asset":"034d8de991e76a6994753ddb4505d354873f96a1aa400a82eac1ee4fd443cfd62e","max_fee":{"amount":1000,"currency":"btc"},"payment_request":"lntapr1500n1pn5w25ypp59sfhx5llskdp6rmsmmq3zs86xey6l4y9wkzvkjl5v2cw0ex7xd4sdqqcqzzsxqyz5vqsp5u333jtc7lh0qvkusq5ntcpm3n2jjx6tw8jz7zvpqpnt3v8e572eq9"},"id":"68d00852-8dd8-4c71-94d2-91c84695da78","type":"taprootasset","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}}}}},"required":true},"responses":{"202":{"description":"Successfully requested a new payment be created"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to create a payment, organization WRITE access required"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/payments/{payment_id}":{"get":{"tags":["Payments"],"summary":"Get a payment for an organization","operationId":"get_payment","parameters":[{"name":"organization_id","in":"path","description":"Organization ID the payment is in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID the payment is in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"payment_id","in":"path","description":"Payment ID for the payment","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully found the payment","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Payment"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to get a payment, organization READ access required"},"404":{"description":"No payment with that ID found in this organization and environment"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/payments/{payment_id}/history":{"get":{"tags":["Payments"],"summary":"Get the history of a payment","operationId":"get_payment_history","parameters":[{"name":"organization_id","in":"path","description":"Organization ID the payment is in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID the payment is in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"payment_id","in":"path","description":"Payment ID for the payment","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully requested the history of a payment","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentHistory"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to get this payment's history, organization READ access required"},"404":{"description":"No payment with that ID found in this organization and environment"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/lines_of_credit/{line_id}/summary":{"get":{"tags":["Lines of Credit"],"summary":"Retrieve a summary of a line of credit","operationId":"get_line_of_credit_summary_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to get the line of credit in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"line_id","in":"path","description":"ID of line of credit to update","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully retrieved a line of credit summary","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SummaryLineOfCredit"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to retrieve the line of credit found, organization READ access required"},"404":{"description":"No line of credit found for given id in provided organization"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/lines_of_credit/summaries":{"get":{"tags":["Lines of Credit"],"summary":"Retrieve summaries for all lines of credit for an organization","operationId":"get_lines_of_credit_summaries_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to get the line of credit in","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully retrieved lines of credit","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SummaryLineOfCredit"}}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to retrieve the lines of credit found, organization WRITE access required"},"404":{"description":"No lines of credit found in provided organization"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/webhooks":{"get":{"tags":["Webhooks"],"summary":"Get all webhooks for an organization and environment with filter","operationId":"get_webhooks_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to get webhooks from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_ids","in":"query","required":false,"schema":{"type":["array","null"],"items":{"type":"string","format":"uuid"}}},{"name":"statuses","in":"query","required":false,"schema":{"type":["array","null"],"items":{"$ref":"#/components/schemas/WebhookStatus"}}},{"name":"sort_key","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortKey"}]}},{"name":"sort_order","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortOrder"}]}}],"responses":{"200":{"description":"Successfully retrieved webhooks","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WebhookRead"}},"examples":{"All Event Types Example":{"value":[{"created_at":"2025-04-29T17:09:11.299Z","deleted_at":null,"environment_id":"123e4567-e89b-12d3-a456-426614174000","events":[{"send":["succeeded","failed"]},{"receive":["generated","refreshed","expired","succeeded","completed","failed"]},{"test":["created"]}],"id":"123e4567-e89b-12d3-a456-426614174000","name":"some name","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"active","stopped_at":null,"updated_at":"2025-04-29T17:09:11.299Z","url":"http://example.com"}]},"Receive Event Example":{"value":[{"created_at":"2025-04-29T17:09:11.299Z","deleted_at":null,"environment_id":"123e4567-e89b-12d3-a456-426614174000","events":[{"receive":["generated","refreshed","expired","succeeded","completed","failed"]}],"id":"123e4567-e89b-12d3-a456-426614174000","name":"some name","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"active","stopped_at":null,"updated_at":"2025-04-29T17:09:11.299Z","url":"http://example.com"}]},"Send Event Example":{"value":[{"created_at":"2025-04-29T17:09:11.299Z","deleted_at":null,"environment_id":"123e4567-e89b-12d3-a456-426614174000","events":[{"send":["succeeded","failed"]}],"id":"123e4567-e89b-12d3-a456-426614174000","name":"some name","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"active","stopped_at":null,"updated_at":"2025-04-29T17:09:11.299Z","url":"http://example.com"}]},"Test Event Example":{"value":[{"created_at":"2025-04-29T17:09:11.299Z","deleted_at":null,"environment_id":"123e4567-e89b-12d3-a456-426614174000","events":[{"test":["created"]}],"id":"123e4567-e89b-12d3-a456-426614174000","name":"some name","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"active","stopped_at":null,"updated_at":"2025-04-29T17:09:11.299Z","url":"http://example.com"}]}}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to get webhooks, organization READ access required"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks":{"post":{"tags":["Webhooks"],"summary":"Create a new webhook","operationId":"create_webhook","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the webhook in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to create the webhook in","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewWebhookRequest"}}},"required":true},"responses":{"202":{"description":"Successfully requested a new webhook be created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookPlainSecret"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to create a webhook, organization WRITE access required"},"409":{"description":"Webhook already exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}":{"get":{"tags":["Webhooks"],"summary":"Get a webhook","operationId":"get_webhook","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to get webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to get webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"ID of webhook to retrieve","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully retrieved webhook","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRead"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to get webhook, organization READ access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}},"delete":{"tags":["Webhooks"],"summary":"Delete a webhook","operationId":"delete_webhook","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to delete webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to delete webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"ID of webhook to delete","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"202":{"description":"Successfully submitted delete webhook request"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to delete webhook, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}},"patch":{"tags":["Webhooks"],"summary":"Update webhook details","operationId":"update_webhook","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the webhook in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to create the webhook in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"Webhook ID to update","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWebhookRequest"}}},"required":true},"responses":{"202":{"description":"Successfully requested update webhook"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to update a webhook, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/keys":{"post":{"tags":["Webhooks"],"summary":"Generate new key for webhook","operationId":"generate_webhook_key","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to update the webhook in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to update the webhook in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"Webhook ID to generate new key","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"202":{"description":"Successfully requested a new webhook be created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookPlainSecret"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to create a webhook, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/test":{"post":{"tags":["Webhooks"],"summary":"Test a webhook","operationId":"test_webhook","parameters":[{"name":"organization_id","in":"path","description":"Organization ID of the webhook to use","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID of the webhook to use","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"Webhook to initiate the delivery on","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestWebhookRequest"},"examples":{"receive_webhook_test":{"summary":"Test Receive Webhook Example","description":"Example of testing a webhook delivery for a payment receive event","value":{"delivery_id":"123e4567-e89b-12d3-a456-426614174002","payload":{"detail":{"data":{"created_at":"2024-11-21T19:15:22.123Z","currency":"BTC","data":{"amount_msats":250000,"description":"Invoice for coffee","payment_hash":"a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6","payment_request":"lnbc2500n1p3xyz123pp5mnrv3usmd97zu3venjxs8xtpy6x5vnryg69tc4p7syc875dajhsqdqqcqzpgxqyz5vqsp5ayzdef"},"direction":"receive","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"123e4567-e89b-12d3-a456-426614174003","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"pending","type":"bolt11","updated_at":"2024-11-21T19:15:22.123Z","wallet_id":"123e4567-e89b-12d3-a456-426614174000"},"event":["generated","refreshed","expired","succeeded","completed","failed"]},"type":"receive"}}},"send_webhook_test":{"summary":"Test Send Webhook Example","description":"Example of testing a webhook delivery for a payment send event","value":{"delivery_id":"123e4567-e89b-12d3-a456-426614174001","payload":{"detail":{"data":{"created_at":"2024-11-21T18:47:04.008Z","currency":"BTC","data":{"amount_msats":100000,"max_fee_msats":1000,"memo":"testing","payment_request":"lnbc100n1p3slw4kpp5z4ybq0q0j6wkrkk99s9xg8p7rugry2nl0y4h8srq0l80r8gf8jhsdqqcqzpgxqyz5vqsp5l5ft0c6h6p5ktkudznlddtnkk5zf7xgwsyqcqwwz2v8zrsm8d7q9qyyssq"},"direction":"send","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"123e4567-e89b-12d3-a456-426614174000","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"sending","type":"bolt11","updated_at":"2024-11-21T18:47:04.008Z","wallet_id":"123e4567-e89b-12d3-a456-426614174000"},"event":["succeeded","failed"]},"type":"send"}}},"test_webhook_test":{"summary":"Simple Test Webhook Example","description":"Example of testing a webhook with a simple test payload for verification","value":{"delivery_id":"123e4567-e89b-12d3-a456-426614174004","payload":{"detail":{"data":"This is a test webhook delivery to verify endpoint configuration and connectivity","event":["created"]},"type":"test"}}}}}},"required":true},"responses":{"202":{"description":"Successfully requested a new webhook delivery be started with provided payload"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to submit delivery via a webhook, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/start":{"post":{"tags":["Webhooks"],"summary":"Start a webhook","operationId":"start_webhook_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to start webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to start webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"ID of webhook to start","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"202":{"description":"Successfully submitted start webhook request"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to start webhook, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/stop":{"post":{"tags":["Webhooks"],"summary":"Stop a webhook","operationId":"stop_webhook_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to stop webhooks from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to stop webhooks from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"ID of Webhook to stop","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"202":{"description":"Successfully submitted stop webhook request"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to stop webhooks, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/deliveries":{"get":{"tags":["Webhooks"],"summary":"Get all webhook deliveries for a given webhook in an organization and environment with filter","operationId":"get_webhook_deliveries_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to get webhooks from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to get webhooks from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"ID of Webhook to retrieve deliveries from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"statuses","in":"query","required":false,"schema":{"type":["array","null"],"items":{"$ref":"#/components/schemas/DeliveryStatus"}}},{"name":"sort_key","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortKey"}]}},{"name":"sort_order","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortOrder"}]}},{"name":"limit","in":"query","required":false,"schema":{"type":["integer","null"],"format":"u-int32","minimum":0}},{"name":"offset","in":"query","required":false,"schema":{"type":["integer","null"],"format":"u-int32","minimum":0}}],"responses":{"200":{"description":"Successfully retrieved webhooks","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookDeliveries"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to get webhooks, organization READ access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/deliveries/{delivery_id}":{"get":{"tags":["Webhooks"],"summary":"Get a webhook delivery","operationId":"get_webhook_delivery","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to get webhooks from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to get webhooks from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"ID of Webhook to retrieve delivery from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"delivery_id","in":"path","description":"ID of Webhook Delivery to retrieve","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully retrieved webhook delivery"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to get webhook delivery, organization READ access required"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/deliveries/{delivery_id}/abandon":{"post":{"tags":["Webhooks"],"summary":"Abandon a webhook delivery","operationId":"abandon_webhook_delivery","parameters":[{"name":"organization_id","in":"path","description":"Organization ID of the webhook to use","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID of the webhook to use","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"Webhook to abandon the delivery on","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"delivery_id","in":"path","description":"Delivery ID to abandon","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"202":{"description":"Successfully requested an abandoned webhook delivery"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to submit abandon via a webhook, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/deliveries/{delivery_id}/retry":{"post":{"tags":["Webhooks"],"summary":"Retry a webhook delivery","operationId":"retry_webhook_delivery","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to retry webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to retry webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"ID of webhook to retry","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"delivery_id","in":"path","description":"ID of webhook delivery to retry","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"202":{"description":"Successfully submitted delete webhook request"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to retry webhook delivery, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}}},"components":{"schemas":{"Amount":{"oneOf":[{"type":"object","description":"Bitcoin amount in millisatoshis (msats) - the smallest unit of Bitcoin","required":["currency","amount"],"properties":{"currency":{"type":"string","enum":["btc"]},"amount":{"type":"integer","format":"int64","description":"Amount in millisatoshis (msats)"},"unit":{"type":"string","description":"Unit identifier - always 'msats' for Bitcoin","enum":["msats"]},"negative":{"type":"boolean","description":"Whether the amount is negative (optional, defaults to false)"}}},{"type":"object","description":"USD amount in cents - the smallest unit of USD","required":["currency","amount"],"properties":{"currency":{"type":"string","enum":["usd"]},"amount":{"type":"integer","format":"int64","description":"Amount in cents"},"unit":{"type":"string","description":"Unit identifier - always 'cents' for USD","enum":["cents"]},"negative":{"type":"boolean","description":"Whether the amount is negative (optional, defaults to false)"}}},{"type":"object","description":"Asset amount in base units - the smallest indivisible unit of the asset. Base units represent the raw integer value before applying decimal display formatting. For display purposes, divide by 10^decimal_display to get the human-readable amount.","required":["currency","amount"],"properties":{"currency":{"type":"string","description":"Asset currency in format 'asset:<66-character-hex-string>'","pattern":"^asset:[a-fA-F0-9]{66}$"},"amount":{"type":"integer","format":"int64","description":"Amount in base units of the asset - the smallest indivisible unit"},"unit":{"type":"string","description":"Unit identifier - always 'base units' for assets","enum":["base units"]},"negative":{"type":"boolean","description":"Whether the amount is negative (optional, defaults to false)"}}}],"description":"Amount with currency specification. All amounts are provided in the smallest unit of the currency (base units).","examples":[{"amount":100000000,"currency":"btc","unit":"msats"},{"amount":150,"currency":"usd","unit":"cents"},{"amount":1000000,"currency":"asset:1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef12","unit":"base units"},{"amount":50000000,"currency":"btc","negative":true,"unit":"msats"}]},"Asset":{"type":"string","format":"binary","description":"Group key of the asset - 66-character hex string representing the Taproot Asset group key","pattern":"^[a-fA-F0-9]{66}$"},"Balance":{"type":"object","required":["id","wallet_id","effective_time","available","total","network","currency"],"properties":{"id":{"type":"string","format":"uuid"},"wallet_id":{"type":"string","format":"uuid"},"effective_time":{"type":"string","format":"date-time"},"available":{"$ref":"#/components/schemas/SignedAmount"},"total":{"$ref":"#/components/schemas/SignedAmount"},"network":{"$ref":"#/components/schemas/Network"},"currency":{"$ref":"#/components/schemas/Currency"}}},"CapturedEvent":{"type":"object","required":["hold_id","payment_id","amount_msats","currency","effective_time"],"properties":{"hold_id":{"type":"string","format":"uuid"},"payment_id":{"type":"string","format":"uuid"},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"currency":{"$ref":"#/components/schemas/Currency"},"effective_time":{"type":"string","format":"date-time"}}},"CollateralStatus":{"oneOf":[{"type":"object","required":["secured"],"properties":{"secured":{"$ref":"#/components/schemas/SecuredStatus"}}},{"type":"object","required":["verified"],"properties":{"verified":{"$ref":"#/components/schemas/VerifiedStatus"}}}]},"CreditedEvent":{"type":"object","required":["credit_id","payment_id","amount_msats","currency","effective_time"],"properties":{"credit_id":{"type":"string","format":"uuid"},"payment_id":{"type":"string","format":"uuid"},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"currency":{"$ref":"#/components/schemas/Currency"},"effective_time":{"type":"string","format":"date-time"}}},"Currency":{"type":"string","description":"Currency type: 'btc', 'usd', or 'asset:' followed by 64-character hex string","examples":["btc","usd","asset:022003cdbdf894b7d5caadca525a576f1825c121dd461a1be7bd19b91d48222892"],"pattern":"^(btc|usd|asset:[a-fA-F0-9]{66})$"},"DeliveryStatus":{"type":"string","enum":["attempting","succeeded","failed","abandoned"],"example":"succeeded"},"DepositedEvent":{"type":"object","required":["deposit_id","amount","effective_time"],"properties":{"deposit_id":{"type":"string","format":"uuid"},"amount":{"$ref":"#/components/schemas/Amount"},"effective_time":{"type":"string","format":"date-time"}}},"EventHistory":{"type":"object","required":["event_type","time","position"],"properties":{"event_type":{"type":"string"},"error":{"type":["string","null"]},"time":{"type":"string","format":"date-time"},"position":{"type":"integer","format":"int64"}}},"EventTypes":{"oneOf":[{"type":"object","required":["send"],"properties":{"send":{"$ref":"#/components/schemas/SendEventTypes"}}},{"type":"object","required":["receive"],"properties":{"receive":{"$ref":"#/components/schemas/ReceiveEventTypes"}}},{"type":"object","required":["test"],"properties":{"test":{"$ref":"#/components/schemas/TestEventTypes"}}}]},"Expiration":{"type":"integer","format":"u-int32","description":"The amount of time a payment invoice is valid for, in seconds.","minimum":0},"Frozen":{"type":"array","items":{"$ref":"#/components/schemas/PaymentFrozenDetails"}},"HeldEvent":{"type":"object","required":["hold_id","payment_id","amount_msats","currency","effective_time"],"properties":{"hold_id":{"type":"string","format":"uuid"},"payment_id":{"type":"string","format":"uuid"},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"currency":{"$ref":"#/components/schemas/Currency"},"effective_time":{"type":"string","format":"date-time"}}},"Hold":{"type":"object","required":["id","amount","effective_time"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"$ref":"#/components/schemas/SignedAmount"},"effective_time":{"type":"string","format":"date-time"}}},"InfraConfigReadonly":{"oneOf":[{"type":"object","required":["config","type"],"properties":{"config":{"$ref":"#/components/schemas/LndConfigReadonly"},"type":{"type":"string","enum":["lnd_node"]}}},{"type":"object","required":["config","type"],"properties":{"config":{"$ref":"#/components/schemas/LndConfigReadonly"},"type":{"type":"string","enum":["taproot_asset_node"]}}}]},"Ledger":{"type":"object","required":["items","offset","limit","total"],"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/LedgerEvent"}},"offset":{"type":"integer","format":"u-int32","minimum":0},"limit":{"type":"integer","format":"u-int32","minimum":0},"total":{"type":"integer","format":"u-int32","minimum":0}}},"LedgerEvent":{"oneOf":[{"allOf":[{"$ref":"#/components/schemas/CreditedEvent"},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["credited"]}}}]},{"allOf":[{"$ref":"#/components/schemas/CapturedEvent"},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["captured"]}}}]},{"allOf":[{"$ref":"#/components/schemas/HeldEvent"},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["held"]}}}]},{"allOf":[{"$ref":"#/components/schemas/ReleasedEvent"},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["released"]}}}]},{"allOf":[{"$ref":"#/components/schemas/DepositedEvent"},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["deposited"]}}}]},{"allOf":[{"$ref":"#/components/schemas/WithdrawnEvent"},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["withdrawn"]}}}]}]},"LedgerSortKey":{"type":"string","enum":["effective_time","message_time","time_and_effective_time"]},"LndConfigReadonly":{"type":"object","required":["host"],"properties":{"host":{"type":"string"}}},"MarketQuote":{"type":"object","required":["from","to","rate","quoted_at"],"properties":{"from":{"$ref":"#/components/schemas/Currency"},"to":{"$ref":"#/components/schemas/Currency"},"rate":{"$ref":"#/components/schemas/rate-string"},"quoted_at":{"type":"string","format":"date-time"}}},"NamedAsset":{"type":"object","required":["asset","name","network","decimal_display"],"properties":{"asset":{"$ref":"#/components/schemas/Asset"},"name":{"type":"string"},"network":{"$ref":"#/components/schemas/Network"},"decimal_display":{"type":"integer","format":"u-int8","description":"The number of decimal places to shift the decimal point left when displaying asset amounts.\nFor example, if a USD stablecoin has decimal_display = 6, then 1,000,000 base units (10^6) equals 1 \"whole unit\" (i.e., $1.000000).\nAll amounts are provided through this API in the smallest unit of the asset (base units). Clients can use the decimal_display value to convert base units to whole units for display purposes.\nLightning Labs recommends using a decimal_display value of 6 for currencies that use smaller subunits than two decimal places (such as cents for USD/EUR, pence for GBP, etc.).","minimum":0}}},"Network":{"type":"string","enum":["mainnet","testnet","signet","mutinynet"]},"NewWalletRequest":{"type":"object","required":["id","environment_id","line_of_credit_id","name","network","limit"],"properties":{"id":{"type":"string","format":"uuid"},"environment_id":{"type":"string","format":"uuid"},"line_of_credit_id":{"type":"string","format":"uuid"},"name":{"type":"string"},"network":{"$ref":"#/components/schemas/SupportedNetwork"},"limit":{"type":"integer","format":"u-int64","description":"If limit is set to 0, no credit will be available for this wallet.","example":100000000,"minimum":1},"metadata":{"type":["object","null"],"additionalProperties":{"type":"string"},"propertyNames":{"type":"string"}}},"example":{"environment_id":"123e4567-e89b-12d3-a456-426614174000","id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2","limit":100000000,"line_of_credit_id":"7df75323-84f1-4699-97da-776380a0aa81","metadata":{"tag":"testing wallet"},"name":"testing","network":"mutinynet"}},"NewWebhookRequest":{"type":"object","required":["id","url","name","events"],"properties":{"id":{"type":"string","format":"uuid","example":"b0fc9829-f139-4035-bb14-4a4b6cd58f0e"},"url":{"type":"string","example":"https://example.com"},"name":{"type":"string","example":"some name"},"events":{"type":"string","example":[{"send":"succeeded"},{"send":"failed"},{"receive":"succeeded"},{"receive":"completed"},{"receive":"failed"}]}}},"OnChainPaymentFrozen":{"type":"object","required":["tx_id","address","amount_sats","reason"],"properties":{"tx_id":{"type":"string","description":"The hex encoded bitcoin transaction id","example":"a22ec88f7a84a705466c9cd8d37024155ffa7930300fcee4fed9e5cc4e25904e"},"address":{"type":"string","description":"The bitcoin address that received the tainted funds","example":"bc1qar0srrr7xfkvy5l643lydnw9re59gtzzwf5mdq"},"amount_sats":{"type":"integer","format":"u-int64","description":"The amount of tainted funds in sats to freeze","minimum":0},"reason":{"$ref":"#/components/schemas/Reasons","description":"Reason why the funds were frozen"}}},"OnChainPaymentReceipt":{"type":"object","required":["required_confirmations_num","tx_id","amount_sats"],"properties":{"required_confirmations_num":{"type":"integer","format":"u-int16","description":"The number of confirmations required for the transaction to be considered complete","minimum":0},"tx_id":{"type":"string","description":"The hex encoded bitcoin transaction id"},"ledger_id":{"type":["string","null"],"format":"uuid","description":"Maps to either the hold_id or credit_id associated with this part of the payment"},"height_mined_at":{"type":["integer","null"],"format":"u-int64","description":"The height of the block that mined the transaction","minimum":0},"amount_sats":{"type":"integer","format":"u-int64","description":"The amount of the transaction in sats","minimum":0},"sanctioned_info":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SanctionedTxInfo","description":"The amount from a sanctioned source in sats and omitted from received value"}]}}},"Payload":{"oneOf":[{"type":"object","required":["detail","type"],"properties":{"detail":{"$ref":"#/components/schemas/SendPayload"},"type":{"type":"string","enum":["send"]}}},{"type":"object","required":["detail","type"],"properties":{"detail":{"$ref":"#/components/schemas/ReceivePayload"},"type":{"type":"string","enum":["receive"]}}},{"type":"object","required":["detail","type"],"properties":{"detail":{"$ref":"#/components/schemas/TestPayload"},"type":{"type":"string","enum":["test"]}}}]},"Payment":{"oneOf":[{"allOf":[{"$ref":"#/components/schemas/SendPayment"},{"type":"object","required":["direction"],"properties":{"direction":{"type":"string","enum":["send"]}}}]},{"allOf":[{"$ref":"#/components/schemas/ReceivePayment"},{"type":"object","required":["direction"],"properties":{"direction":{"type":"string","enum":["receive"]}}}]}],"examples":[{"created_at":"2024-11-21T18:47:04.008Z","currency":"BTC","data":{"amount_msats":100000,"max_fee_msats":1000,"memo":"testing","payment_request":"lnbc100n1p3slw4kpp5z4ybq0q0j6wkrkk99s9xg8p7rugry2nl0y4h8srq0l80r8gf8jhsdqqcqzpgxqyz5vqsp5l5ft0c6h6p5ktkudznlddtnkk5zf7xgwsyqcqwwz2v8zrsm8d7q9qyyssq"},"direction":"send","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"123e4567-e89b-12d3-a456-426614174000","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"sending","type":"bolt11","updated_at":"2024-11-21T18:47:04.008Z","wallet_id":"123e4567-e89b-12d3-a456-426614174000"},{"created_at":"2024-11-21T18:47:04.008Z","currency":"BTC","data":{"amount_msats":200000,"memo":"testing","payment_request":"lnbc200n1p3slw4kpp5z4ybq0q0j6wkrkk99s9xg8p7rugry2nl0y4h8srq0l80r8gf8jhsdqqcqzpgxqyz5vqsp5l5ft0c6h6p5ktkudznlddtnkk5zf7xgwsyqcqwwz2v8zrsm8d7q9qyyssq"},"direction":"receive","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"223e4567-e89b-12d3-a456-426614174001","organization_id":"123e4567-e89b-12d3-a456-426614174000","requested_amount":{"amount":200000,"currency":"BTC","unit":"msat"},"status":"receiving","type":"bolt11","updated_at":"2024-11-21T18:47:04.008Z","wallet_id":"123e4567-e89b-12d3-a456-426614174000"}]},"PaymentDirection":{"type":"string","enum":["send","receive"]},"PaymentFrozenDetails":{"oneOf":[{"type":"object","required":["data","type"],"properties":{"data":{"$ref":"#/components/schemas/OnChainPaymentFrozen"},"type":{"type":"string","enum":["onchain"]}}}]},"PaymentHistory":{"type":"object","required":["events"],"properties":{"events":{"type":"array","items":{"$ref":"#/components/schemas/EventHistory"}}}},"PaymentReceiveType":{"oneOf":[{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["amount_msats"],"properties":{"payment_request":{"type":["string","null"]},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"memo":{"type":["string","null"]},"expiration":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/Expiration"}]}}},"type":{"type":"string","enum":["bolt11"]}}},{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["amount_sats","receipts"],"properties":{"address":{"type":["string","null"]},"amount_sats":{"type":"integer","format":"u-int64","minimum":0},"label":{"type":["string","null"]},"receipts":{"type":"array","items":{"$ref":"#/components/schemas/OnChainPaymentReceipt"}}}},"type":{"type":"string","enum":["onchain"]}}},{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["amount_msats","receipts"],"properties":{"payment_request":{"type":["string","null"]},"address":{"type":["string","null"]},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"description":{"type":["string","null"]},"receipts":{"type":"array","items":{"$ref":"#/components/schemas/OnChainPaymentReceipt"}},"expiration":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/Expiration"}]}}},"type":{"type":"string","enum":["bip21"]}}},{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["amount","asset"],"properties":{"payment_request":{"type":["string","null"]},"amount":{"$ref":"#/components/schemas/Amount"},"asset":{"$ref":"#/components/schemas/Asset"},"quote":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/Quote"}]},"memo":{"type":["string","null"]},"expiration":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/Expiration"}]}}},"type":{"type":"string","enum":["taprootasset"]}}}]},"PaymentRequest":{"oneOf":[{"type":"object","description":"Send Lightning Bolt11 payment","required":["id","wallet_id","currency","type","data"],"properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for this payment request"},"wallet_id":{"type":"string","format":"uuid","description":"Wallet ID to send the payment from"},"currency":{"$ref":"#/components/schemas/Currency"},"type":{"type":"string","enum":["bolt11"]},"data":{"type":"object","required":["payment_request","amount_msats","max_fee_msats"],"properties":{"payment_request":{"type":"string","description":"Lightning invoice - cannot be empty"},"amount_msats":{"type":"integer","format":"int64","description":"Amount in millisatoshis (msats) - required, must be > 0","minimum":1},"max_fee_msats":{"type":"integer","format":"int64","description":"Maximum fee in millisatoshis (msats) - required, must be >= 1","minimum":1}}}}},{"type":"object","description":"Send on-chain Bitcoin payment","required":["id","wallet_id","currency","type","data"],"properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for this payment request"},"wallet_id":{"type":"string","format":"uuid","description":"Wallet ID to send the payment from"},"currency":{"$ref":"#/components/schemas/Currency"},"type":{"type":"string","enum":["onchain"]},"data":{"type":"object","required":["address","amount_sats","max_fee_sats"],"properties":{"address":{"type":"string","description":"Bitcoin address - cannot be empty"},"amount_sats":{"type":"integer","format":"int64","description":"Amount in satoshis (sats) - required, must be > 0","minimum":1},"max_fee_sats":{"type":"integer","format":"int64","description":"Maximum fee in satoshis (sats) - required, must be >= 1","minimum":1},"description":{"type":"string","description":"Optional payment description - if provided, cannot be empty"}}}}},{"type":"object","description":"Send BIP21 unified payment","required":["id","wallet_id","currency","type","data"],"properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for this payment request"},"wallet_id":{"type":"string","format":"uuid","description":"Wallet ID to send the payment from"},"currency":{"$ref":"#/components/schemas/Currency"},"type":{"type":"string","enum":["bip21"]},"data":{"type":"object","required":["address","amount_msats","max_fee_msats"],"properties":{"address":{"type":"string","description":"BIP21 URI - cannot be empty"},"payment_request":{"type":"string","description":"Optional Lightning invoice - if provided, cannot be empty"},"amount_msats":{"type":"integer","format":"int64","description":"Amount in millisatoshis (msats) - required, must be > 0","minimum":1},"max_fee_msats":{"type":"integer","format":"int64","description":"Maximum fee in millisatoshis (msats) - required, must be >= 1","minimum":1},"description":{"type":"string","description":"Optional payment description - if provided, cannot be empty"}}}}},{"type":"object","description":"Send Taproot Asset payment","required":["id","wallet_id","currency","type","data"],"properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for this payment request"},"wallet_id":{"type":"string","format":"uuid","description":"Wallet ID to send the payment from"},"currency":{"$ref":"#/components/schemas/Currency"},"type":{"type":"string","enum":["taprootasset"]},"data":{"type":"object","required":["payment_request","asset","amount","max_fee"],"properties":{"payment_request":{"type":"string","description":"Taproot asset invoice - cannot be empty"},"asset":{"$ref":"#/components/schemas/Asset"},"amount":{"oneOf":[{"type":"object","description":"Asset amount in base units - the smallest indivisible unit of the asset","required":["currency","amount"],"properties":{"currency":{"type":"string","description":"Asset currency in format 'asset:<66-character-hex-string>'","pattern":"^asset:[a-fA-F0-9]{66}$"},"amount":{"type":"integer","format":"int64","description":"Amount in base units of the asset - must be > 0","minimum":1},"unit":{"type":"string","description":"Unit identifier - always 'base units' for assets","enum":["base units"]}}}],"description":"Asset amount in base units - required for taproot asset sends, must be > 0"},"max_fee":{"oneOf":[{"type":"object","description":"Bitcoin fee amount in millisatoshis","required":["currency","amount"],"properties":{"currency":{"type":"string","enum":["btc"]},"amount":{"type":"integer","format":"int64","description":"Fee amount in millisatoshis (msats) - must be > 0","minimum":1},"unit":{"type":"string","description":"Unit identifier - always 'msats' for Bitcoin","enum":["msats"]}}},{"type":"object","description":"Asset fee amount in base units","required":["currency","amount"],"properties":{"currency":{"type":"string","description":"Asset currency in format 'asset:<66-character-hex-string>'","pattern":"^asset:[a-fA-F0-9]{66}$"},"amount":{"type":"integer","format":"int64","description":"Fee amount in base units of the asset - must be > 0","minimum":1},"unit":{"type":"string","description":"Unit identifier - always 'base units' for assets","enum":["base units"]}}}],"description":"Maximum fee - can be BTC or Asset"}}}}},{"type":"object","description":"Receive payment with specific amount - currency comes from amount object","required":["id","wallet_id","payment_kind","amount"],"properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for this payment request"},"wallet_id":{"type":"string","format":"uuid","description":"Wallet ID to receive the payment into"},"payment_kind":{"type":"string","enum":["bolt11","onchain","bip21","taprootasset"]},"amount":{"$ref":"#/components/schemas/Amount"},"description":{"type":"string","description":"Optional description/memo for the payment"},"expiration":{"type":"integer","description":"Optional invoice expiration in seconds (default: 3600, max: 86400) - only applies to bolt11 and bip21"}}},{"type":"object","description":"Receive payment with any amount - generates invoice/URI that can be paid with any amount","required":["id","wallet_id","currency","payment_kind"],"properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for this payment request"},"wallet_id":{"type":"string","format":"uuid","description":"Wallet ID to receive the payment into"},"currency":{"type":"string","description":"Currency for any-amount invoices - must be 'btc'","enum":["btc"]},"payment_kind":{"type":"string","description":"Payment kind - only bolt11 and bip21 support any-amount","enum":["bolt11","bip21"]},"description":{"type":"string","description":"Optional description/memo for the payment"},"expiration":{"type":"integer","description":"Optional invoice expiration in seconds (default: 3600, max: 86400)"}}},{"type":"object","description":"LEGACY: Receive payment with amount_msats field (backward compatibility) - automatically converts to BTC amount","required":["id","wallet_id","payment_kind","amount_msats"],"properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for this payment request"},"wallet_id":{"type":"string","format":"uuid","description":"Wallet ID to receive the payment into"},"currency":{"type":"string","description":"Currency (ignored in legacy format)","enum":["btc"]},"payment_kind":{"type":"string","enum":["bolt11","bip21"]},"amount_msats":{"type":"integer","format":"int64","description":"DEPRECATED: Amount in millisatoshis - use 'amount' object instead","minimum":1},"description":{"type":"string","description":"Optional description/memo for the payment"},"expiration":{"type":"integer","description":"Optional invoice expiration in seconds"}}},{"type":"object","description":"LEGACY: Receive payment with amount_sats field (backward compatibility) - automatically converts to BTC amount","required":["id","wallet_id","payment_kind","amount_sats"],"properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for this payment request"},"wallet_id":{"type":"string","format":"uuid","description":"Wallet ID to receive the payment into"},"currency":{"type":"string","description":"Currency (ignored in legacy format)","enum":["btc"]},"payment_kind":{"type":"string","enum":["onchain"]},"amount_sats":{"type":"integer","format":"int64","description":"DEPRECATED: Amount in satoshis - use 'amount' object instead","minimum":1},"description":{"type":"string","description":"Optional description/memo for the payment"}}}],"description":"Payment request object. Can be either a send payment (with 'type' and 'data' fields) or a receive payment (with 'payment_kind' field)"},"PaymentSendType":{"oneOf":[{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["amount_msats","max_fee_msats"],"properties":{"payment_request":{"type":["string","null"]},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"max_fee_msats":{"type":"integer","format":"u-int64","minimum":0},"fee_msats":{"type":["integer","null"],"format":"u-int64","minimum":0},"memo":{"type":["string","null"]}}},"type":{"type":"string","enum":["bolt11"]}}},{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["amount_sats","max_fee_sats","outflows"],"properties":{"address":{"type":["string","null"]},"amount_sats":{"type":"integer","format":"u-int64","minimum":0},"max_fee_sats":{"type":"integer","format":"u-int64","minimum":0},"fee_sats":{"type":["integer","null"],"format":"u-int64","minimum":0},"label":{"type":["string","null"]},"outflows":{"type":"array","items":{"$ref":"#/components/schemas/OnChainPaymentReceipt"}}}},"type":{"type":"string","enum":["onchain"]}}},{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["amount_msats","max_fee_msats","outflows"],"properties":{"payment_request":{"type":["string","null"]},"address":{"type":["string","null"]},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"max_fee_msats":{"type":"integer","format":"u-int64","minimum":0},"fee_msats":{"type":["integer","null"],"format":"u-int64","minimum":0},"description":{"type":["string","null"]},"outflows":{"type":"array","items":{"$ref":"#/components/schemas/OnChainPaymentReceipt"}}}},"type":{"type":"string","enum":["bip21"]}}},{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["payment_request","asset","amount"],"properties":{"payment_request":{"type":"string"},"max_fee":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/Amount"}]},"fees":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/Amount"}]},"asset":{"$ref":"#/components/schemas/Asset"},"amount":{"$ref":"#/components/schemas/Amount"},"peer_quote":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/PeerQuote"}]},"memo":{"type":["string","null"]}}},"type":{"type":"string","enum":["taprootasset"]}}}]},"Payments":{"type":"object","required":["items","offset","limit","total"],"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/Payment"}},"offset":{"type":"integer","format":"u-int32","minimum":0},"limit":{"type":"integer","format":"u-int32","minimum":0},"total":{"type":"integer","format":"u-int32","minimum":0}},"example":{"items":[{"created_at":"2024-11-21T18:47:04.008Z","currency":"btc","data":{"amount_msats":150000,"max_fee_msats":1000,"memo":"testing","payment_request":"lntbs1500n1pn5w25ypp59sfhx5llskdp6rmsmmq3zs86xey6l4y9wkzvkjl5v2cw0ex7xd4sdqqcqzzsxqyz5vqsp5u333jtc7lh0qvkusq5ntcpm3n2jjx6tw8jz7zvpqpnt3v8e572eq9qxpqysgq4hm7n79tnk76j4ll4f7ey9mmxdyj5pwzcmyqgxtgz40vjg9w58wq73040qvuurj83jakt2zws6y9qgzg2f6gtnj3ajf0mj4gw4mdt2cqhr2tpz"},"direction":"send","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"3e84b6c5-5bbe-4e0f-9fb3-f1198330f6fa","organization_id":"b0684ab8-1130-46af-8f70-71519442f108","status":"sending","type":"bolt11","updated_at":"2024-11-21T18:47:04.008Z","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"},{"created_at":"2025-02-12T21:22:50.30219Z","currency":"btc","data":{"address":"tb1pzkhtj4ld86g9c49du5yagnncfrm0s489t76vmrwmt2ecxfnf7spsvjte49","amount_sats":150000,"fees_sats":10,"label":null,"max_fee_sats":1000,"receipts":[{"amount_sats":10000,"height_mined_at":1888021,"ledger_id":"0c16fd8e-ce4d-42fe-9d0b-3069244eb66c","required_confirmations_num":1,"tx_id":"a22ec88f7a84a705466c9cd8d37024155ffa7930300fcee4fed9e5cc4e25904e"}]},"direction":"send","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"2ec1e783-19b4-4c10-8181-66336a6232bd","organization_id":"b0684ab8-1130-46af-8f70-71519442f108","status":"completed","type":"onchain","updated_at":"2025-02-12T21:22:52.407189Z","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"},{"created_at":"2024-11-21T18:47:04.008Z","currency":"btc","data":{"amount_msats":0,"memo":"testing","payment_request":"lntbs1500n1pn5w25ypp59sfhx5llskdp6rmsmmq3zs86xey6l4y9wkzvkjl5v2cw0ex7xd4sdqqcqzzsxqyz5vqsp5u333jtc7lh0qvkusq5ntcpm3n2jjx6tw8jz7zvpqpnt3v8e572eq9qxpqysgq4hm7n79tnk76j4ll4f7ey9mmxdyj5pwzcmyqgxtgz40vjg9w58wq73040qvuurj83jakt2zws6y9qgzg2f6gtnj3ajf0mj4gw4mdt2cqhr2tpz"},"direction":"receive","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"11ca843c-bdaa-44b6-965a-39ac550fcef7","organization_id":"b0684ab8-1130-46af-8f70-71519442f108","requested_amount":{"amount":150000,"currency":"btc","unit":"msats"},"status":"receiving","type":"bolt11","updated_at":"2024-11-21T18:47:04.008Z","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"},{"created_at":"2025-02-12T21:21:21.744713Z","currency":"btc","data":{"address":"tb1pzkhtj4ld86g9c49du5yagnncfrm0s489t76vmrwmt2ecxfnf7spsvjte49","amount_sats":10000,"label":"test payment","outflows":[{"amount_sats":10000,"height_mined_at":1888021,"ledger_id":"03d87c6d-2cf8-414b-929a-eceeb4c896ed","required_confirmations_num":1,"tx_id":"a22ec88f7a84a705466c9cd8d37024155ffa7930300fcee4fed9e5cc4e25904e"}]},"direction":"receive","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"0a24c349-55d0-473e-9c03-155f884f1867","organization_id":"b0684ab8-1130-46af-8f70-71519442f108","requested_amount":{"amount":10000000,"currency":"btc","unit":"msats"},"status":"completed","type":"onchain","updated_at":"2025-02-12T21:23:03.173159Z","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}],"limit":100,"offset":0,"total":4}},"PeerQuote":{"type":"object","required":["from","to","rfq","peer","expires_at"],"properties":{"from":{"$ref":"#/components/schemas/Currency"},"to":{"$ref":"#/components/schemas/Currency"},"rfq":{"$ref":"#/components/schemas/RfqQuote"},"peer":{"type":"string"},"channel_scids":{"type":"array","items":{"type":"integer","format":"u-int64","minimum":0}},"expires_at":{"type":"string","format":"date-time"}}},"Quote":{"oneOf":[{"type":"object","required":["detail","type"],"properties":{"detail":{"$ref":"#/components/schemas/PeerQuote"},"type":{"type":"string","enum":["peer_rfq"]}}},{"type":"object","required":["detail","type"],"properties":{"detail":{"$ref":"#/components/schemas/MarketQuote"},"type":{"type":"string","enum":["market_rate"]}}}]},"Reasons":{"oneOf":[{"type":"string","enum":["ofac_non_compliant_address"]},{"type":"object","required":["other"],"properties":{"other":{"type":"string"}}}]},"ReceiveError":{"oneOf":[{"type":"object","required":["detail","type"],"properties":{"detail":{"type":"string"},"type":{"type":"string","enum":["receive_failed"]}}},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["expired"]}}}]},"ReceiveEventTypes":{"type":"string","enum":["generated","refreshed","expired","succeeded","completed","failed"],"example":"succeeded"},"ReceivePayload":{"type":"object","required":["event","data"],"properties":{"event":{"$ref":"#/components/schemas/ReceiveEventTypes"},"data":{"$ref":"#/components/schemas/Payment"}}},"ReceivePayment":{"allOf":[{"$ref":"#/components/schemas/PaymentReceiveType"},{"type":"object","required":["id","wallet_id","organization_id","environment_id","created_at","updated_at","currency","status"],"properties":{"id":{"type":"string","format":"uuid"},"wallet_id":{"type":"string","format":"uuid"},"organization_id":{"type":"string","format":"uuid"},"environment_id":{"type":"string","format":"uuid"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"currency":{"$ref":"#/components/schemas/Currency"},"requested_amount":{"$ref":"#/components/schemas/Amount"},"status":{"$ref":"#/components/schemas/ReceiveStatus"},"error":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/ReceiveError"}]},"frozen":{"$ref":"#/components/schemas/Frozen","description":"Funds of payment that have been frozen due to compliance requirements"}}}]},"ReceiveStatus":{"type":"string","enum":["generating","receiving","expired","failed","completed"]},"ReleasedEvent":{"type":"object","required":["hold_id","payment_id","currency","effective_time"],"properties":{"hold_id":{"type":"string","format":"uuid"},"payment_id":{"type":"string","format":"uuid"},"currency":{"$ref":"#/components/schemas/Currency"},"effective_time":{"type":"string","format":"date-time"}}},"RfqQuote":{"type":"object","required":["id","rate"],"properties":{"id":{"type":"array","items":{"type":"integer","format":"u-int8","minimum":0}},"rate":{"$ref":"#/components/schemas/rate-string"}}},"SanctionedInput":{"type":"object","description":"Information about a sanctioned input","required":["outpoint","address","amount"],"properties":{"outpoint":{"type":"string","description":"The outpoint being spent (txid:vout)"},"address":{"type":"string","description":"The sanctioned address"},"amount":{"$ref":"#/components/schemas/Amount","description":"The amount from this input"}}},"SanctionedTxInfo":{"type":"object","description":"Information about a sanctioned transaction","required":["tx_id","sanctioned_inputs","sanctioned_value"],"properties":{"tx_id":{"type":"string","description":"Transaction ID"},"sanctioned_inputs":{"type":"array","items":{"$ref":"#/components/schemas/SanctionedInput"},"description":"Detailed information about each sanctioned input"},"sanctioned_value":{"$ref":"#/components/schemas/Amount","description":"Total value from sanctioned inputs"}}},"SecuredStatus":{"type":"string","enum":["pending_deposit","partially_secured","secured"]},"SendError":{"oneOf":[{"type":"object","required":["detail","type"],"properties":{"detail":{"type":"string"},"type":{"type":"string","enum":["rejected"]}}},{"type":"object","required":["detail","type"],"properties":{"detail":{"type":"string"},"type":{"type":"string","enum":["hold_failed"]}}},{"type":"object","required":["detail","type"],"properties":{"detail":{"type":"string"},"type":{"type":"string","enum":["send_failed"]}}},{"type":"object","required":["detail","type"],"properties":{"detail":{"type":"string"},"type":{"type":"string","enum":["quote_failed"]}}}]},"SendEventTypes":{"type":"string","enum":["succeeded","failed"],"example":"succeeded"},"SendPayload":{"type":"object","required":["event","data"],"properties":{"event":{"$ref":"#/components/schemas/SendEventTypes"},"data":{"$ref":"#/components/schemas/Payment"}}},"SendPayment":{"allOf":[{"$ref":"#/components/schemas/PaymentSendType"},{"type":"object","required":["id","wallet_id","organization_id","environment_id","created_at","updated_at","currency","status"],"properties":{"id":{"type":"string","format":"uuid"},"wallet_id":{"type":"string","format":"uuid"},"organization_id":{"type":"string","format":"uuid"},"environment_id":{"type":"string","format":"uuid"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"currency":{"$ref":"#/components/schemas/Currency"},"status":{"$ref":"#/components/schemas/SendStatus"},"error":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SendError"}]}}}]},"SendPaymentRequest":{"oneOf":[{"type":"object","description":"Send Lightning Bolt11 payment","required":["id","wallet_id","currency","type","data"],"properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for this payment request"},"wallet_id":{"type":"string","format":"uuid","description":"Wallet ID to send the payment from"},"currency":{"$ref":"#/components/schemas/Currency"},"type":{"type":"string","enum":["bolt11"]},"data":{"type":"object","required":["payment_request","amount_msats","max_fee_msats"],"properties":{"payment_request":{"type":"string","description":"Lightning invoice - cannot be empty"},"amount_msats":{"type":"integer","format":"int64","description":"Amount in millisatoshis - required, must be > 0"},"max_fee_msats":{"type":"integer","format":"int64","description":"Maximum fee in millisatoshis - required, must be >= 1"}}}}},{"type":"object","description":"Send on-chain Bitcoin payment","required":["id","wallet_id","currency","type","data"],"properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for this payment request"},"wallet_id":{"type":"string","format":"uuid","description":"Wallet ID to send the payment from"},"currency":{"$ref":"#/components/schemas/Currency"},"type":{"type":"string","enum":["onchain"]},"data":{"type":"object","required":["address","amount_sats","max_fee_sats"],"properties":{"address":{"type":"string","description":"Bitcoin address - cannot be empty"},"amount_sats":{"type":"integer","format":"int64","description":"Amount in satoshis - required, must be > 0"},"max_fee_sats":{"type":"integer","format":"int64","description":"Maximum fee in satoshis - required, must be >= 1"},"description":{"type":"string","description":"Optional payment description - if provided, cannot be empty"}}}}},{"type":"object","description":"Send BIP21 unified payment","required":["id","wallet_id","currency","type","data"],"properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for this payment request"},"wallet_id":{"type":"string","format":"uuid","description":"Wallet ID to send the payment from"},"currency":{"$ref":"#/components/schemas/Currency"},"type":{"type":"string","enum":["bip21"]},"data":{"type":"object","required":["address","amount_msats","max_fee_msats"],"properties":{"address":{"type":"string","description":"BIP21 URI - cannot be empty"},"payment_request":{"type":"string","description":"Optional Lightning invoice - if provided, cannot be empty"},"amount_msats":{"type":"integer","format":"int64","description":"Amount in millisatoshis - required, must be > 0"},"max_fee_msats":{"type":"integer","format":"int64","description":"Maximum fee in millisatoshis - required, must be >= 1"},"description":{"type":"string","description":"Optional payment description - if provided, cannot be empty"}}}}},{"type":"object","description":"Send Taproot Asset payment","required":["id","wallet_id","currency","type","data"],"properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for this payment request"},"wallet_id":{"type":"string","format":"uuid","description":"Wallet ID to send the payment from"},"currency":{"$ref":"#/components/schemas/Currency"},"type":{"type":"string","enum":["taprootasset"]},"data":{"type":"object","required":["payment_request","asset","amount","max_fee"],"properties":{"payment_request":{"type":"string","description":"Taproot asset invoice - cannot be empty"},"asset":{"$ref":"#/components/schemas/Asset"},"amount":{"oneOf":[{"type":"object","description":"Asset amount in base units","required":["currency","amount"],"properties":{"currency":{"type":"string","description":"Asset currency in format 'asset:<66-character-hex-string>'","pattern":"^asset:[a-fA-F0-9]{66}$"},"amount":{"type":"integer","format":"int64","description":"Amount in base units of the asset"}}}],"description":"Asset amount - required for taproot asset sends"},"max_fee":{"oneOf":[{"type":"object","description":"Bitcoin fee amount in millisatoshis","required":["currency","amount"],"properties":{"currency":{"type":"string","enum":["btc"]},"amount":{"type":"integer","format":"int64","description":"Fee amount in millisatoshis"}}},{"type":"object","description":"Asset fee amount in base units","required":["currency","amount"],"properties":{"currency":{"type":"string","description":"Asset currency in format 'asset:<66-character-hex-string>'","pattern":"^asset:[a-fA-F0-9]{66}$"},"amount":{"type":"integer","format":"int64","description":"Fee amount in base units of the asset"}}}],"description":"Maximum fee - can be BTC or Asset"}}}}}],"description":"Request to send a payment via Lightning, on-chain, BIP21, or Taproot assets"},"SendStatus":{"type":"string","enum":["sending","approved","failed","completed"]},"SignedAmount":{"allOf":[{"$ref":"#/components/schemas/Amount"},{"type":"object","required":["negative"],"properties":{"negative":{"type":"boolean"}}}],"example":{"amount":100000000,"currency":"btc","negative":false,"unit":"msat"}},"SortKey":{"type":"string","enum":["created_at","updated_at"]},"SortOrder":{"type":"string","enum":["ASC","DESC"]},"SummaryLineOfCredit":{"type":"object","required":["id","organization_id","network","environment_id","limit","allocated_limit","currency"],"properties":{"id":{"type":"string","format":"uuid"},"organization_id":{"type":"string","format":"uuid"},"network":{"$ref":"#/components/schemas/Network"},"environment_id":{"type":"string","format":"uuid"},"limit":{"type":"integer","format":"u-int64","minimum":0},"allocated_limit":{"type":"integer","format":"u-int64","minimum":0},"currency":{"$ref":"#/components/schemas/Currency"},"status":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/CollateralStatus","description":"Will always be null for Waived collateral types"}]},"disabled_at":{"type":["string","null"],"format":"date-time"},"infrastructure":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/InfraConfigReadonly"}]}}},"SupportedAssets":{"type":"object","required":["assets"],"properties":{"assets":{"type":"array","items":{"$ref":"#/components/schemas/NamedAsset"}}},"example":{"assets":[{"asset":"034d8de991e76a6994753ddb4505d354873f96a1aa400a82eac1ee4fd443cfd62e","name":"Voltage Cash","network":"mutinynet"}]}},"SupportedNetwork":{"type":"string","enum":["mainnet","testnet3","mutinynet"]},"TestEventTypes":{"type":"string","enum":["created"],"example":"created"},"TestPayload":{"type":"object","required":["event","data"],"properties":{"event":{"$ref":"#/components/schemas/TestEventTypes"},"data":{"type":"string"}}},"TestWebhookRequest":{"type":"object","required":["delivery_id","payload"],"properties":{"delivery_id":{"type":"string","format":"uuid"},"payload":{"$ref":"#/components/schemas/Payload"}}},"UpdateWalletRequest":{"type":"object","required":["name"],"properties":{"name":{"type":"string","example":"a new name"}}},"UpdateWebhookRequest":{"type":"object","required":["url","events"],"properties":{"url":{"type":"string","example":"https://example.com"},"name":{"type":["string","null"],"example":"some name"},"events":{"type":"array","items":{"$ref":"#/components/schemas/EventTypes"},"description":"Provide all event types that the webhook should be subscribed,\nThe event types array will be replaced entirely inline with JSON Merge Patch (RFC 7396)"}}},"VerifiedStatus":{"type":"string","enum":["pending_verification","verified"]},"Wallet":{"type":"object","required":["id","active","created_at","updated_at","name","organization_id","environment_id","network","balances","holds"],"properties":{"id":{"type":"string","format":"uuid"},"active":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"deleted_at":{"type":["string","null"],"format":"date-time"},"deletion_failed_at":{"type":["string","null"],"format":"date-time"},"name":{"type":"string"},"organization_id":{"type":"string","format":"uuid"},"environment_id":{"type":"string","format":"uuid"},"limit":{"type":["integer","null"],"format":"u-int64","minimum":0},"line_of_credit_id":{"type":["string","null"],"format":"uuid"},"network":{"$ref":"#/components/schemas/Network"},"metadata":{"type":["object","null"],"additionalProperties":{"type":"string"},"propertyNames":{"type":"string"}},"balances":{"type":"array","items":{"$ref":"#/components/schemas/Balance"}},"holds":{"type":"array","items":{"$ref":"#/components/schemas/Hold"}},"error":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/WalletEventError"}]}}},"WalletEventError":{"oneOf":[{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["InsufficientFunds"]}}},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["InsufficientBalanceWithdrawal"]}}},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["HoldNotFound"]}}},{"type":"object","required":["detail","type"],"properties":{"detail":{"type":"string"},"type":{"type":"string","enum":["InsufficientLimit"]}}},{"type":"object","required":["detail","type"],"properties":{"detail":{"type":"string"},"type":{"type":"string","enum":["IncorrectCurrency"]}}}]},"WebhookDeliveries":{"type":"object","required":["items","offset","limit","total"],"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/WebhookDeliveryRead"}},"offset":{"type":"integer","format":"u-int32","minimum":0},"limit":{"type":"integer","format":"u-int32","minimum":0},"total":{"type":"integer","format":"u-int32","minimum":0}}},"WebhookDeliveryRead":{"type":"object","required":["id","webhook_id","url","status","payload","created_at","updated_at","attempt_count"],"properties":{"id":{"type":"string","format":"uuid"},"webhook_id":{"type":"string","format":"uuid"},"url":{"type":"string","example":"https://example.com"},"status":{"$ref":"#/components/schemas/DeliveryStatus"},"payload":{"$ref":"#/components/schemas/Payload"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"attempt_count":{"type":"integer","format":"int64"},"error":{"type":["string","null"]},"status_code":{"type":["integer","null"],"format":"u-int16","example":200,"minimum":0}}},"WebhookPlainSecret":{"type":"object","required":["id","shared_secret"],"properties":{"id":{"type":"string","format":"uuid"},"shared_secret":{"type":"string","description":"Plain text shared secret used to verify the authenticity of the webhook payload.\nOnly ever shown to the user when creating a new webhook or updating the shared secret.","example":"vltg_GDtRrrJFJ6afRrAYMW3t9RpxgCdcT8zp"}}},"WebhookRead":{"type":"object","required":["id","organization_id","environment_id","url","name","events","status","created_at","updated_at"],"properties":{"id":{"type":"string","format":"uuid"},"organization_id":{"type":"string","format":"uuid"},"environment_id":{"type":"string","format":"uuid"},"url":{"type":"string","example":"https://example.com"},"name":{"type":"string","example":"some name"},"events":{"type":"array","items":{"$ref":"#/components/schemas/EventTypes"}},"status":{"$ref":"#/components/schemas/WebhookStatus"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"stopped_at":{"type":["string","null"],"format":"date-time"},"deleted_at":{"type":["string","null"],"format":"date-time"}}},"WebhookStatus":{"type":"string","enum":["active","stopped","deleted"]},"WithdrawnEvent":{"type":"object","required":["withdraw_id","amount","effective_time"],"properties":{"withdraw_id":{"type":"string","format":"uuid"},"amount":{"$ref":"#/components/schemas/Amount"},"effective_time":{"type":"string","format":"date-time"}}},"rate-string":{"type":"string","format":"rate"}},"securitySchemes":{"api_key":{"type":"apiKey","in":"header","name":"x-api-key","description":"Environment api key used to authenticate"},"bearer_token":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"User JWT token used to authentication with Bearer scheme"}}},"security":[{"api_key":[]},{"bearer_token":[]}],"tags":[{"name":"Wallets","description":"Manage wallets in an organization"},{"name":"Payments","description":"Manage payments in an organization"},{"name":"Lines of Credit","description":"Manage lines of credit in an organization"},{"name":"Webhooks","description":"Manage webhooks in an organization"},{"name":"Onboarding","description":"Manage onboarding of an organization"},{"name":"Billing","description":"Manage bills in an organization"}]}
